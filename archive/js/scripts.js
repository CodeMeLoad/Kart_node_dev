function waypointInit(t,e){t&&(e=void 0==e?$(".contentpane-full,.contentpane-full-sub"):e,e.waypoint({handler:function(t){$(this).hasClass("nohide")||("down"===t?$(this).animate({opacity:"0"},700):$(this).animate({opacity:"1"},700))},context:"#contentwrapper",offset:function(){return 2.5*parseInt($(".content").css("line-height"))-$(this).outerHeight()}}),e.waypoint({handler:function(t){$(this).hasClass("nohide")||("down"===t?$(this).animate({opacity:"1"},700):$(this).animate({opacity:"0"},700))},context:"#contentwrapper",offset:"90%"}),e.waypoint({handler:function(t){$(".active").removeClass("active"),"up"===t?$("#ls"+($(this).attr("id")[1]-1)).addClass("active"):$("#l"+$(this).attr("id")).addClass("active")},context:"#contentwrapper",offset:"50%"}))}function waypointDestroy(t,e){t&&(e=void 0==e?$(".contentpane-full,.contentpane-full-sub"):e,e.waypoint("destroy"))}function respond(t){$contentwrapper.css("height",$("html").outerHeight()-$("#topbar").outerHeight()+"px"),t&&(waypointDestroy(sections),waypointInit(sections))}function readyrespond(){new Date-rtime<delta?setTimeout(readyrespond,delta):(timeout=!1,respond(!0))}var rtime=new Date(1,1,2e3,12,0,0),timeout=!1,delta=100,$contentwrapper;$(document).ready(function(){loaded=!0,$contentwrapper=$("#contentwrapper");parseInt($(document.getElementsByClassName("content")[0]).css("line-height"));$(window).bind("orientationchange resize",function(){rtime=new Date,timeout===!1&&(timeout=!0,window.setTimeout(readyrespond,delta))}),respond(!1),$.mosaicflow&&$("#gallery").mosaicflow(),waypointInit(sections),constantOffset=$contentwrapper.position().top-$("#contentblock").position().top-$("#topbar").outerHeight(),$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),dist=t.position().top+$contentwrapper.scrollTop()+constantOffset-5,t.length&&dist&&$contentwrapper.animate({scrollTop:dist},500),t.length)return!1}})})});